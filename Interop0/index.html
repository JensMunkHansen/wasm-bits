<!DOCTYPE html>
<html>
<head>
    <title>Emscripten Callback Example</title>
    <script src="callback_example.js"></script>
</head>
<body>
    <script>
        var Module = {
            onRuntimeInitialized: function() {
                // Define the JavaScript function to be passed
                function jsCallback() {
                    console.log("JavaScript function called from C++!");
                }

                // Wrap the JavaScript function as a WebAssembly function
                var jsCallbackFuncPtr = Module.addFunction(jsCallback, 'v');

                // Register the JavaScript function
                Module._registerCallback(jsCallbackFuncPtr);

                // Call the JavaScript function from C++
                Module._callJSFunction();
            }
        };
    </script>
</body>
</html>
